\section{原理}
\subsection{オペアンプについて}
演算増幅器(Operational Amplifier: オペアンプ)は図のような素子であり回路図記号は図のようになっている.
オペアンプはトランジスタ或いはMOSFETと抵抗,キャパシタなどから成る集積回路で音響など様々なアナログ回路で用いられる.

オペアンプの最も根幹となる回路は差動増幅回路である.\cite{densikairo}図にトランジスタによる差動増幅回路を示す.
差動増幅回路はエミッタ接地増幅器を2つ,エミッタを共通にしたもので,共通のエミッタは定電流回路に接続される
小信号においてコレクタ電流$i_c$とベース電流$i_b$は比例関係にあると考えられるので$I$はエミッタ接地電流増幅率を$\beta$として
\begin{align}
  i_{ci}=\beta i_{bi}\qquad(i=1,2)
\end{align}
である.したがって$I$は
\begin{align}
  \begin{split}
    I&=i_{e1}+i_{e2}\\
    &=(1+\beta)(i_{b1}+i_{b2})
  \end{split}
\end{align}
となる.また$I$は定電流回路によって定まっており,一方のトランジスタのエミッタ電流が増えるともう一方は減少する.
ここで2つの入力に同相の信号を与えたとき左右のトランジスタは同等であるため出力電圧$v_o=0$のままである.
一方で逆相の信号を入力する,すなわち定常的な成分を$i_{const}$,変化分を$i_v$として$i_{b1}=i_{const}+i_v$,
$i_{b2}=i_{const}-i_v$と表すと
\begin{align}
  v_o&=R\beta(i_{const}+i_v)-R\beta(i_{const}-i_v)\\
  &=2R\beta i_v
\end{align}
となる.以上から差動増幅回路では同相の信号が入力されても出力は変化しないが,
2つの入力信号の間に差があるときにはそれを増幅して出力することになる.

実際のオペアンプは差動増幅器より遥かに複雑であるが,差動増幅という基本的な機能は継承している.
オペアンプにおいては入力電圧$V_+$, $V_-$と出力電圧$V_o$には増幅率を$A$として以下のような関係が一般に成り立つ.
\begin{align}
  \label{equ:01-VoA}
  V_o=A(V_+-V_-)
\end{align}
\clearpage
また理想オペアンプには以下のような性質がある.
\begin{description}
  \item[1. 入出力の線形性] \mbox{}\\オペアンプの入出力には電源電圧の範囲で線形関係が成り立つ.
  \item[2. $A$が非常に大きい] \mbox{}\\増幅率$A$は非常に大きい.これは差動増幅器の後段に更に増幅回路などを持つためである.ここで(\ref{equ:01-VoA})式で$V_o$が有限の値を持ち$A$が極めて大きいならば$V_+=V_-$でなければならない.これを仮想接地と呼ぶ.
  \item[3. 入力インピーダンスが大きく,出力インピーダンスが小さい] \mbox{}\\これにより,フィードバックを構成する際にオペアンプ内に流れ込む電流を$0$とみなせる.
  \item[4. 入力電圧が$0$なら出力も$0$]
  \item[5. 広い周波数帯域で利用可能]  
\end{description}
ただし実際のオペアンプでは増幅率やインピーダンスは有限の値を持つが,多くの回路設計において以上の性質は非常に有用である.
\section{実験方法}
本実験ではフリーソフトのQucs Spiceを用いて回路シミュレーションを行った.
シミュレーション環境を表\ref{tab:sim_env}に示す.4日目ではParameter Sweep機能を使う必要性があったためQucs Spiceのバージョンを上げている.
本実験では直流での解析にDC Simulation,交流での解析にTransient Simulationを用いている.
また各種抵抗の抵抗値やコンデンサの静電容量は配布されたexcelシートを用いて個体差を再現している.
また各種グラフの作成にはgnuplotを用いた.
\begin{table}[h]
\caption{シミュレーション環境}
\label{tab:sim_env}
\centering
\begin{tabular}{cc}
\hline
Qucs Spiceバージョン(3日目まで)&0.0.19\\
Qucs Spiceバージョン(4日目から)&0.0.22\\
OS&Ubuntu 20.04 LTS\\
\hline
\end{tabular}
\end{table}